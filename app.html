<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Telegram Notification UI</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    [contenteditable][data-empty="true"]:before {
      content: attr(data-placeholder);
      color: #9ca3af;
      pointer-events: none;
    }
    .hide-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .hide-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useRef } = React;

    const ArrowLeft = () => (
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <line x1="19" y1="12" x2="5" y2="12"></line>
        <polyline points="12 19 5 12 12 5"></polyline>
      </svg>
    );

    const MoreVertical = () => (
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <circle cx="12" cy="12" r="1"></circle>
        <circle cx="12" cy="5" r="1"></circle>
        <circle cx="12" cy="19" r="1"></circle>
      </svg>
    );

    function TelegramNotification() {
      const [showChat, setShowChat] = useState(false);
      const [showEmojiPicker, setShowEmojiPicker] = useState(false);
      const [hasText, setHasText] = useState(false);
      const [replyingTo, setReplyingTo] = useState(null);
      const inputRef = useRef(null);
      const emojiPickerHeight = '300px';

      const toggleEmojiPicker = () => {
        setShowEmojiPicker(!showEmojiPicker);
      };

      const handleFocus = () => {
        if (inputRef.current) {
          const isEmpty = inputRef.current.textContent.trim() === '';
          inputRef.current.setAttribute('data-empty', isEmpty.toString());
        }
      };

      const handleClick = () => {
        if (inputRef.current) {
          const isEmpty = inputRef.current.textContent.trim() === '';
          inputRef.current.setAttribute('data-empty', isEmpty.toString());
        }
      };

      const handleInput = (e) => {
        const text = e.currentTarget.textContent.trim();
        setHasText(text.length > 0);
        const isEmpty = text === '';
        e.currentTarget.setAttribute('data-empty', isEmpty.toString());
        
        if (isEmpty && inputRef.current) {
          inputRef.current.textContent = '';
          const range = document.createRange();
          const sel = window.getSelection();
          range.setStart(inputRef.current, 0);
          range.collapse(true);
          sel.removeAllRanges();
          sel.addRange(range);
        }
      };

      const handleKeyDown = (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          handleSend();
        }
      };

      const handleSend = () => {
        if (inputRef.current && inputRef.current.textContent.trim()) {
          inputRef.current.textContent = '';
          setHasText(false);
          inputRef.current.setAttribute('data-empty', 'true');
        }
      };

      return (
        <div className="relative w-full h-screen overflow-hidden bg-white max-w-md mx-auto">
          {/* Main notification view */}
          <div className="flex items-center justify-between p-4 bg-white">
            {/* Left side: Avatar and text */}
            <div 
              className="flex items-center gap-4 cursor-pointer"
              onClick={() => setShowChat(true)}
            >
              {/* Avatar */}
              <div className="w-14 h-14 rounded-full bg-orange-400 flex items-center justify-center">
                <span className="text-white text-xl font-semibold">DS</span>
              </div>
              
              {/* Text content */}
              <div className="flex flex-col">
                <h3 className="text-lg font-semibold text-gray-900">Daddy Steve</h3>
                <p className="text-base text-gray-500">Daddy Steve joined Telegram</p>
              </div>
            </div>
            
            {/* Right side: Date */}
            <div className="text-gray-400 text-sm self-start">
              Oct 27
            </div>
          </div>

          {/* Chat view that slides in from right */}
          {/* FIX 1: Ensure this container is a full-height flex column */}
          <div 
            className={`absolute top-0 left-0 w-full h-full bg-gray-100 transition-transform duration-300 ease-in-out flex flex-col ${
              showChat ? 'translate-x-0' : 'translate-x-full'
            }`}
          >
            {/* Chat Header */}
            {/* FIX 2: Add flex-shrink-0 to keep header fixed at the top */}
            <div className="flex items-center justify-between p-3 bg-white shadow-sm flex-shrink-0">
              {/* Left side: Back button and profile */}
              <div className="flex items-center gap-2">
                {/* Back button */}
                <button 
                  onClick={() => setShowChat(false)}
                  className="text-gray-600 hover:text-gray-900"
                >
                  {/* FIX 3: Corrected capitalization from <Arrowleft /> to <ArrowLeft /> */}
                  <ArrowLeft /> 
                </button>
                
                {/* Avatar, name and status group */}
                <div className="flex items-center gap-2 ml-2">
                  {/* Avatar */}
                  <div className="w-9 h-9 rounded-full bg-orange-400 flex items-center justify-center">
                    <span className="text-white text-base font-semibold">DS</span>
                  </div>
                  
                  {/* Name and status */}
                  <div className="flex flex-col">
                    <h3 className="text-base font-semibold text-gray-900">Daddy Steve</h3>
                    <p className="text-xs text-gray-500">last seen 11/4/2025</p>
                  </div>
                </div>
              </div>
              
              {/* Right side: More options */}
              <button className="text-gray-600 hover:text-gray-900">
                <MoreVertical />
              </button>
            </div>

            {/* Chat area */}
            {/* FIX 4: Use flex-1 to make it take up all available space and handle scrolling */}
            <div 
              className="flex-1 p-4 overflow-y-auto hide-scrollbar"
              style={{
                backgroundImage: 'url(https://i.ibb.co/fzG6R49y/Screenshot-20251125-105049.jpg)',
                backgroundSize: 'cover',
                backgroundPosition: 'center',
                backgroundRepeat: 'no-repeat'
              }}
            >
              {/* Sample messages */}
              <div className="flex flex-col gap-1 items-end max-w-full">
                {/* Message 1 */}
                <div className="bg-white rounded-2xl px-3 py-2 max-w-[85%] shadow-sm">
                  <div className="flex items-end gap-2 whitespace-nowrap">
                    <span className="text-gray-900 text-sm">How</span>
                    <span className="text-[11px] text-gray-500 flex items-center gap-1 flex-shrink-0">
                      17:32
                      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 32 32"><path fill="#595959" d="M28.28 6.28L11 23.563l-7.28-7.28l-1.44 1.437l8 8l.72.686l.72-.687l18-18l-1.44-1.44z"/></svg>
                    </span>
                  </div>
                </div>

                {/* Message 2 */}
                <div className="bg-white rounded-2xl px-3 py-2 max-w-[85%] shadow-sm">
                  <div className="flex items-end gap-2 whitespace-nowrap">
                    <span className="text-gray-900 text-sm">How are you doing</span>
                    <span className="text-[11px] text-gray-500 flex items-center gap-1 flex-shrink-0">
                      17:32
                      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 32 32"><path fill="#595959" d="M28.28 6.28L11 23.563l-7.28-7.28l-1.44 1.437l8 8l.72.686l.72-.687l18-18l-1.44-1.44z"/></svg>
                    </span>
                  </div>
                </div>

                {/* Message 3 */}
                <div className="bg-white rounded-2xl px-3 py-2 max-w-[85%] shadow-sm">
                  <div className="flex items-end gap-2 whitespace-nowrap">
                    <span className="text-gray-900 text-sm">How are you doing today bro</span>
                    <span className="text-[11px] text-gray-500 flex items-center gap-1 flex-shrink-0">
                      17:33
                      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 32 32"><path fill="#595959" d="M28.28 6.28L11 23.563l-7.28-7.28l-1.44 1.437l8 8l.72.686l.72-.687l18-18l-1.44-1.44z"/></svg>
                    </span>
                  </div>
                </div>

                {/* Message 4 */}
                <div className="bg-white rounded-2xl px-3 py-2 max-w-[85%] shadow-sm">
                  <div className="flex items-end gap-2 whitespace-nowrap">
                    <span className="text-gray-900 text-sm">How are you feeling today bro</span>
                    <span className="text-[11px] text-gray-500 flex items-center gap-1 flex-shrink-0">
                      17:33
                      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 32 32"><path fill="#595959" d="M28.28 6.28L11 23.563l-7.28-7.28l-1.44 1.437l8 8l .72.686l.72-.687l18-18l-1.44-1.44z"/></svg>
                    </span>
                  </div>
                </div>
              </div>
            </div>

            {/* Input Bar */}
            {/* FIX 5: Add flex-shrink-0 to keep the input bar fixed at the bottom */}
            <div className={`bg-white flex-shrink-0 ${!replyingTo ? 'border-t border-gray-200' : ''} relative`}>
              <div className="w-full max-w-2xl mx-auto flex items-center p-2 gap-1">
                <button onClick={toggleEmojiPicker} className="p-2 flex-shrink-0 self-end">
                  {showEmojiPicker ? (
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 432 384">
                      <path fill="#6b7280" d="M384 43q18 0 30.5 12.5T427 85v214q0 17-12.5 29.5T384 341H43q-18 0-30.5-12.5T0 299V85q0-17 12.5-29.5T43 43h341zm-192 64v42h43v-42h-43zm0 64v42h43v-42h-43zm-64-64v42h43v-42h-43zm0 64v42h43v-42h-43zm-21 42v-42H64v42h43zm0-64v-42H64v42h43zm192 150v-43H128v43h171zm0-86v-42h-43v42h43zm0-64v-42h-43v42h43zm64 64v-42h-43v42h43zm0-64v-42h-43v42h43z"/>
                    </svg>
                  ) : (
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <g transform="rotate(-19, 12, 12)">
                        <path d="M9 16C9.85038 16.6303 10.8846 17 12 17C13.1154 17 14.1496 16.6303 15 16" stroke="#6b7280" strokeWidth="2" strokeLinecap="round"></path>
                        <ellipse cx="15" cy="10.5" rx="1" ry="1.5" fill="#6b7280"></ellipse>
                        <ellipse cx="9" cy="10.5" rx="1" ry="1.5" fill="#6b7280"></ellipse>
                        <path d="M15 22H12C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.9282 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12V15M15 22C18.866 22 22 18.866 22 15M15 22C15 20.1387 15 19.2081 15.2447 18.4549C15.7393 16.9327 16.9327 15.7393 18.4549 15.2447C19.2081 15 20.1387 15 22 15" stroke="#6b7280" strokeWidth="2"></path>
                      </g>
                    </svg>
                  )}
                </button>

                <div
                  ref={inputRef}
                  contentEditable
                  className="flex-1 bg-transparent text-gray-900 outline-none px-3 py-2 min-h-[24px] max-h-[120px] overflow-y-auto whitespace-pre-wrap break-words"
                  style={{ minHeight: '24px', maxHeight: '120px' }}
                  data-placeholder="Message..."
                  data-empty="true"
                  onFocus={handleFocus}
                  onClick={handleClick}
                  onInput={handleInput}
                  onKeyDown={handleKeyDown}
                  suppressContentEditableWarning={true}
                />

                <div className="flex items-end gap-1 transition-all duration-200 overflow-hidden" 
                  style={{ width: hasText ? '0px' : 'auto', opacity: hasText ? 0 : 1, pointerEvents: hasText ? 'none' : 'auto', marginRight: hasText ? '0' : '-4px' }}>
                  <button onMouseDown={(e) => e.preventDefault()} className="p-2 flex-shrink-0">
                    <svg fill="#6b7280" viewBox="0 0 32 32" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                      <g transform="rotate(-42, 16, 16)">
                        <path d="M13.17,29.9a4,4,0,0,1-2.83-1.17L4.69,23.07a4,4,0,0,1,0-5.66L18.83,3.27a4.1,4.1,0,0,1,5.66,0L27.31,6.1a4,4,0,0,1,0,5.66L16,23.07a4,4,0,0,1-5.66-5.66l9.2-9.19L21,9.64l-9.19,9.19a2,2,0,0,0,2.83,2.83L25.9,10.34a2,2,0,0,0,0-2.83L23.07,4.69a2,2,0,0,0-2.83,0L6.1,18.83a2,2,0,0,0,0,2.83l5.66,5.65a2,2,0,0,0,2.83,0l12-12L28,16.71l-12,12A4,4,0,0,1,13.17,29.9Z"></path>
                      </g>
                    </svg>
                  </button>
                  <button onMouseDown={(e) => e.preventDefault()} className="p-2 flex-shrink-0">
                    <svg viewBox="0 0 24 24" fill="none" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                      <path d="M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12Z" stroke="#6b7280" strokeWidth="1.5"></path>
                      <circle cx="12" cy="12" r="4" stroke="#6b7280" strokeWidth="1.5"></circle>
                    </svg>
                  </button>
                  <button onMouseDown={(e) => e.preventDefault()} className="p-2 flex-shrink-0 hover:bg-gray-100 rounded-full">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#6b7280" strokeWidth="1.8" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                      <rect x="8" y="2" width="8" height="13" rx="4"></rect>
                      <path d="M20,10v1a8,8,0,0,1-8,8h0a8,8,0,0,1-8-8V10"></path>
                      <line x1="12" y1="19" x2="12" y2="22"></line>
                    </svg>
                  </button>
                </div>

                <button onClick={handleSend} className="p-2 flex-shrink-0 self-end absolute right-2 bottom-2"
                  style={{ 
                    opacity: hasText ? 1 : 0, 
                    pointerEvents: hasText ? 'auto' : 'none',
                    transition: 'opacity 0.2s'
                  }}>
                  <svg viewBox="0 -0.5 21 21" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2.61258 9L0.05132 1.31623C-0.22718 0.48074 0.63218 -0.28074 1.42809 0.09626L20.4281 9.0963C21.1906 9.4575 21.1906 10.5425 20.4281 10.9037L1.42809 19.9037C0.63218 20.2807 -0.22718 19.5193 0.05132 18.6838L2.61258 11H8.9873C9.5396 11 9.9873 10.5523 9.9873 10C9.9873 9.4477 9.5396 9 8.9873 9H2.61258z" fill="#3b82f6" fillRule="evenodd" clipRule="evenodd" />
                  </svg>
                </button>
              </div>
            </div>

            {/* Emoji Picker */}
            {/* FIX 6: Add flex-shrink-0 to keep the picker fixed at the bottom */}
            <div className="bg-gray-100 flex-shrink-0 overflow-hidden transition-all duration-300 ease-in-out" style={{ height: showEmojiPicker ? emojiPickerHeight : 0 }}>
              <div className="w-full max-w-2xl mx-auto h-full p-4">
                <div className="grid grid-cols-8 gap-2">
                    {/* Placeholder content for the emoji picker */}
                </div>
              </div>
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.render(<TelegramNotification />, document.getElementById('root'));
  </script>
</body>
</html>

