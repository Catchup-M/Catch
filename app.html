<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Catchup Messenger</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    [contenteditable][data-empty="true"]::before {
      content: attr(data-placeholder);
      color: #9ca3af;
      pointer-events: none;
    }
    [contenteditable]:focus {
      outline: none;
    }
  </style>
</head>
<body>
  <div id="app" class="max-w-2xl mx-auto bg-white h-screen relative overflow-hidden">
    <!-- Main Chat List -->
    <div id="chatList" class="absolute inset-0 bg-white transition-transform duration-300">
      <!-- Header -->
      <div class="border-b">
        <!-- Tab Navigation -->
        <div class="flex items-center px-4 pt-3">
          <button class="p-2 hover:bg-gray-100 rounded -mt-1">
            <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
          <div class="flex-1 flex items-center justify-center gap-8">
            <button class="pb-2 px-2 text-blue-500 font-semibold border-b-2 border-blue-500">
              Chats
            </button>
            <button class="pb-2 px-2 text-gray-400 font-semibold">
              Discover
            </button>
          </div>
        </div>
        
        <!-- Gray spacer -->
        <div class="h-2 bg-gray-100"></div>
        
        <!-- Input area -->
        <div class="flex items-center gap-3 p-3">
          <div class="w-10 h-10 rounded-full bg-gray-300 flex-shrink-0"></div>
          <div class="flex-1 flex items-center gap-2 bg-gray-100 rounded-full px-4 py-2">
            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
            <input
              type="text"
              placeholder="Search...."
              class="flex-1 bg-transparent text-gray-600 placeholder-gray-400 outline-none"
            />
          </div>
        </div>
        
        <!-- Gray spacer -->
        <div class="h-2 bg-gray-100"></div>
      </div>

      <!-- Notification Item -->
      <div id="chatItem" class="flex items-start gap-3 p-4 hover:bg-gray-50 cursor-pointer">
        <div class="w-14 h-14 rounded-full bg-orange-400 flex items-center justify-center flex-shrink-0">
          <span class="text-white text-xl font-semibold">DS</span>
        </div>
        <div class="flex-1 min-w-0">
          <div class="flex items-baseline justify-between gap-2 mb-1">
            <h3 class="font-semibold text-gray-900">Daddy Steve</h3>
            <span class="text-gray-400 text-sm flex-shrink-0">Oct 27</span>
          </div>
          <p class="text-gray-500 text-sm truncate">
            Daddy Steve joined Telegram
          </p>
        </div>
      </div>
    </div>

    <!-- Chat Detail View -->
    <div id="chatDetail" class="absolute inset-0 bg-gray-100 transition-transform duration-300 translate-x-full flex flex-col">
      <!-- Chat Header -->
      <div class="bg-white border-b">
        <div class="flex items-center gap-2 p-2">
          <button id="backButton" class="p-1.5 hover:bg-gray-100 rounded">
            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
            </svg>
          </button>
          <div class="w-10 h-10 rounded-full bg-orange-400 flex items-center justify-center flex-shrink-0">
            <span class="text-white text-base font-semibold">DS</span>
          </div>
          <div class="flex-1 min-w-0">
            <h3 class="font-semibold text-gray-900 text-lg">Daddy Steve</h3>
            <p class="text-gray-500 text-sm">last seen 11/3/2025</p>
          </div>
          <button class="p-1.5 hover:bg-gray-100 rounded">
            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path>
            </svg>
          </button>
        </div>
      </div>

      <!-- Chat Content Area -->
      <div class="flex-1 overflow-y-auto relative bg-gray-100">
        <!-- Background Image -->
        <div 
          class="absolute inset-0"
          style="
            background-image: url('https://i.ibb.co/fzG6R49y/Screenshot-20251125-105049.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: 0;
          "
        ></div>
        
        <!-- Content -->
        <div class="relative p-4" style="z-index: 1;">
          <div class="text-center text-gray-400 text-sm">
            Chat messages would appear here
          </div>
        </div>
      </div>

      <!-- Input Bar -->
      <div id="inputBar" class="bg-white flex-shrink-0 border-t border-gray-200">
        <div class="w-full max-w-2xl mx-auto flex items-center p-2 gap-1">
          
          <!-- Emoji / Keyboard Toggle -->
          <button id="emojiToggle" class="p-2 flex-shrink-0 self-end">
            <svg id="emojiIcon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g transform="rotate(-19, 12, 12)">
                <path d="M9 16C9.85038 16.6303 10.8846 17 12 17C13.1154 17 14.1496 16.6303 15 16" stroke="#6b7280" stroke-width="2" stroke-linecap="round"></path>
                <ellipse cx="15" cy="10.5" rx="1" ry="1.5" fill="#6b7280"></ellipse>
                <ellipse cx="9" cy="10.5" rx="1" ry="1.5" fill="#6b7280"></ellipse>
                <path d="M15 22H12C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.9282 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12V15M15 22C18.866 22 22 18.866 22 15M15 22C15 20.1387 15 19.2081 15.2447 18.4549C15.7393 16.9327 16.9327 15.7393 18.4549 15.2447C19.2081 15 20.1387 15 22 15" stroke="#6b7280" stroke-width="2"></path>
              </g>
            </svg>
          </button>

          <!-- Message Input -->
          <div
            id="messageInput"
            contenteditable="true"
            class="flex-1 bg-transparent text-gray-900 outline-none px-3 py-2 min-h-[24px] max-h-[120px] overflow-y-auto whitespace-pre-wrap break-words"
            data-placeholder="Message..."
            data-empty="true"
          ></div>

          <!-- Media Buttons -->
          <div id="mediaButtons" class="flex items-end gap-1 transition-all duration-200 overflow-hidden">
            <button class="p-2 flex-shrink-0">
              <svg fill="#6b7280" viewBox="0 0 32 32" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                <g transform="rotate(-42, 16, 16)">
                  <path d="M13.17,29.9a4,4,0,0,1-2.83-1.17L4.69,23.07a4,4,0,0,1,0-5.66L18.83,3.27a4.1,4.1,0,0,1,5.66,0L27.31,6.1a4,4,0,0,1,0,5.66L16,23.07a4,4,0,0,1-5.66-5.66l9.2-9.19L21,9.64l-9.19,9.19a2,2,0,0,0,2.83,2.83L25.9,10.34a2,2,0,0,0,0-2.83L23.07,4.69a2,2,0,0,0-2.83,0L6.1,18.83a2,2,0,0,0,0,2.83l5.66,5.65a2,2,0,0,0,2.83,0l12-12L28,16.71l-12,12A4,4,0,0,1,13.17,29.9Z"></path>
                </g>
              </svg>
            </button>

            <button class="p-2 flex-shrink-0">
              <svg viewBox="0 0 24 24" fill="none" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                <path d="M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12Z" stroke="#6b7280" stroke-width="1.5"></path> 
                <circle cx="12" cy="12" r="4" stroke="#6b7280" stroke-width="1.5"></circle> 
              </svg>
            </button>

            <button class="p-2 flex-shrink-0 hover:bg-gray-100 rounded-full">
              <svg viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="1.8" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                <rect x="8" y="2" width="8" height="13" rx="4"></rect>
                <path d="M20,10v1a8,8,0,0,1-8,8h0a8,8,0,0,1-8-8V10"></path>
                <line x1="12" y1="19" x2="12" y2="22"></line>
              </svg>
            </button>
          </div>

          <!-- Send Button -->
          <button id="sendButton" class="p-2 flex-shrink-0 self-end transition-all duration-200" style="opacity: 0; pointer-events: none; width: 0; padding: 0;">
            <svg viewBox="0 -0.5 21 21" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
              <path d="M2.61258 9L0.05132 1.31623C-0.22718 0.48074 0.63218 -0.28074 1.42809 0.09626L20.4281 9.0963C21.1906 9.4575 21.1906 10.5425 20.4281 10.9037L1.42809 19.9037C0.63218 20.2807 -0.22718 19.5193 0.05132 18.6838L2.61258 11H8.9873C9.5396 11 9.9873 10.5523 9.9873 10C9.9873 9.4477 9.5396 9 8.9873 9H2.61258z" fill="#3b82f6" fill-rule="evenodd" clip-rule="evenodd" />
            </svg>
          </button>
        </div>
      </div>

      <!-- Emoji Picker -->
      <div id="emojiPicker" class="bg-gray-100 flex-shrink-0 overflow-hidden transition-all duration-300 ease-in-out" style="height: 0;">
        <div class="w-full max-w-2xl mx-auto h-full p-4">
          <div class="grid grid-cols-8 gap-2"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    let showEmojiPicker = false;
    let hasText = false;

    const chatList = document.getElementById('chatList');
    const chatDetail = document.getElementById('chatDetail');
    const chatItem = document.getElementById('chatItem');
    const backButton = document.getElementById('backButton');
    const messageInput = document.getElementById('messageInput');
    const sendButton = document.getElementById('sendButton');
    const mediaButtons = document.getElementById('mediaButtons');
    const emojiToggle = document.getElementById('emojiToggle');
    const emojiPicker = document.getElementById('emojiPicker');
    const emojiIcon = document.getElementById('emojiIcon');
    const inputBar = document.getElementById('inputBar');

    // Click chat item to open detail
    chatItem.addEventListener('click', () => {
      chatList.classList.add('-translate-x-full');
      chatDetail.classList.remove('translate-x-full');
    });

    // Click back button to return to list
    backButton.addEventListener('click', () => {
      chatList.classList.remove('-translate-x-full');
      chatDetail.classList.add('translate-x-full');
    });

    // Toggle emoji picker
    emojiToggle.addEventListener('click', () => {
      showEmojiPicker = !showEmojiPicker;
      if (showEmojiPicker) {
        emojiPicker.style.height = '300px';
        inputBar.classList.remove('border-t', 'border-gray-200');
        emojiIcon.innerHTML = '<path fill="#6b7280" d="M384 43q18 0 30.5 12.5T427 85v214q0 17-12.5 29.5T384 341H43q-18 0-30.5-12.5T0 299V85q0-17 12.5-29.5T43 43h341zm-192 64v42h43v-42h-43zm0 64v42h43v-42h-43zm-64-64v42h43v-42h-43zm0 64v42h43v-42h-43zm-21 42v-42H64v42h43zm0-64v-42H64v42h43zm192 150v-43H128v43h171zm0-86v-42h-43v42h43zm0-64v-42h-43v42h43zm64 64v-42h-43v42h43zm0-64v-42h-43v42h43z"/>';
        emojiIcon.setAttribute('viewBox', '0 0 432 384');
      } else {
        emojiPicker.style.height = '0';
        inputBar.classList.add('border-t', 'border-gray-200');
        emojiIcon.innerHTML = '<g transform="rotate(-19, 12, 12)"><path d="M9 16C9.85038 16.6303 10.8846 17 12 17C13.1154 17 14.1496 16.6303 15 16" stroke="#6b7280" stroke-width="2" stroke-linecap="round"></path><ellipse cx="15" cy="10.5" rx="1" ry="1.5" fill="#6b7280"></ellipse><ellipse cx="9" cy="10.5" rx="1" ry="1.5" fill="#6b7280"></ellipse><path d="M15 22H12C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.9282 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12V15M15 22C18.866 22 22 18.866 22 15M15 22C15 20.1387 15 19.2081 15.2447 18.4549C15.7393 16.9327 16.9327 15.7393 18.4549 15.2447C19.2081 15 20.1387 15 22 15" stroke="#6b7280" stroke-width="2"></path></g>';
        emojiIcon.setAttribute('viewBox', '0 0 24 24');
      }
    });

    // Handle input changes
    messageInput.addEventListener('input', (e) => {
      const text = e.target.textContent.trim();
      hasText = text.length > 0;
      e.target.setAttribute('data-empty', text.length === 0);
      
      if (hasText) {
        sendButton.style.opacity = '1';
        sendButton.style.pointerEvents = 'auto';
        sendButton.style.width = 'auto';
        sendButton.style.padding = '0.5rem';
        
        mediaButtons.style.width = '0px';
        mediaButtons.style.opacity = '0';
        mediaButtons.style.pointerEvents = 'none';
        mediaButtons.style.marginRight = '0';
      } else {
        sendButton.style.opacity = '0';
        sendButton.style.pointerEvents = 'none';
        sendButton.style.width = '0';
        sendButton.style.padding = '0';
        
        mediaButtons.style.width = 'auto';
        mediaButtons.style.opacity = '1';
        mediaButtons.style.pointerEvents = 'auto';
        mediaButtons.style.marginRight = '-4px';
      }
    });

    messageInput.addEventListener('focus', (e) => {
      if (e.target.textContent.trim().length === 0) {
        e.target.setAttribute('data-empty', 'true');
      }
    });

    messageInput.addEventListener('click', (e) => {
      if (e.target.textContent.trim().length === 0) {
        e.target.setAttribute('data-empty', 'true');
      }
    });

    // Handle Enter key
    messageInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        handleSend();
      }
    });

    // Send button click
    sendButton.addEventListener('click', handleSend);

    function handleSend() {
      if (hasText) {
        messageInput.textContent = '';
        hasText = false;
        messageInput.setAttribute('data-empty', 'true');
        
        sendButton.style.opacity = '0';
        sendButton.style.pointerEvents = 'none';
        sendButton.style.width = '0';
        sendButton.style.padding = '0';
        
        mediaButtons.style.width = 'auto';
        mediaButtons.style.opacity = '1';
        mediaButtons.style.pointerEvents = 'auto';
        mediaButtons.style.marginRight = '-4px';
      }
    }
  </script>
</body>
</html>
